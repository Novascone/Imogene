[gd_scene load_steps=17 format=3 uid="uid://dwsx4y3cqpgte"]

[ext_resource type="Script" path="res://scripts/box.cs" id="3_5peeu"]
[ext_resource type="PackedScene" uid="uid://bpalewpsip4oc" path="res://scenes/enemy.tscn" id="4_0ec7p"]
[ext_resource type="Shader" path="res://shaders/interact.gdshader" id="4_upixs"]
[ext_resource type="PackedScene" uid="uid://bucbdn57qvj3s" path="res://scenes/player.tscn" id="4_xodl3"]

[sub_resource type="NavigationMesh" id="NavigationMesh_eyji4"]
vertices = PackedVector3Array(-19.3001, 0.491906, -15.1712, -19.3001, 0.491906, 15.0788, 19.1999, 0.491906, 15.0788, 19.1999, 0.491906, -15.1712)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[sub_resource type="BoxMesh" id="BoxMesh_sc8uj"]

[sub_resource type="BoxShape3D" id="BoxShape3D_hhky2"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_iphw8"]

[sub_resource type="Sky" id="Sky_dd0x7"]
sky_material = SubResource("ProceduralSkyMaterial_iphw8")

[sub_resource type="Environment" id="Environment_sd3p5"]
background_mode = 2
sky = SubResource("Sky_dd0x7")

[sub_resource type="BoxShape3D" id="BoxShape3D_1h8ub"]

[sub_resource type="BoxMesh" id="BoxMesh_8qq1d"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4tslu"]
resource_local_to_scene = true
resource_name = "highlight_interactive"
render_priority = 0
shader = ExtResource("4_upixs")
shader_parameter/strength = 0.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_prx8h"]
next_pass = SubResource("ShaderMaterial_4tslu")
albedo_color = Color(0, 1, 1, 1)

[sub_resource type="CylinderMesh" id="CylinderMesh_k1bjr"]

[sub_resource type="BoxShape3D" id="BoxShape3D_nt1yn"]

[node name="Level" type="Node3D" groups=["terrain"]]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.162973, 0, 0)
navigation_mesh = SubResource("NavigationMesh_eyji4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(-39.6001, 0, 0, 0, 0.0161886, 0, 0, 0, 31.3423, 0, 0, 0)
mesh = SubResource("BoxMesh_sc8uj")
skeleton = NodePath("")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/MeshInstance3D/StaticBody3D"]
shape = SubResource("BoxShape3D_hhky2")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_sd3p5")

[node name="Box" type="Area3D" parent="." groups=["interactive"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, -12.3572)

[node name="BoxCollision" type="CollisionShape3D" parent="Box"]
shape = SubResource("BoxShape3D_1h8ub")

[node name="Mesh" type="MeshInstance3D" parent="Box"]
mesh = SubResource("BoxMesh_8qq1d")
surface_material_override/0 = SubResource("StandardMaterial3D_prx8h")

[node name="InteractAreaMesh" type="MeshInstance3D" parent="Box"]
transform = Transform3D(0.3, 0, 0, 0, 0.3, 0, 0, 0, 0.3, 0, 0, 0)
mesh = SubResource("CylinderMesh_k1bjr")

[node name="InteractArea" type="Area3D" parent="Box/InteractAreaMesh" groups=["interactive"]]
script = ExtResource("3_5peeu")

[node name="InteractAreaCollision" type="CollisionShape3D" parent="Box/InteractAreaMesh/InteractArea"]
transform = Transform3D(8, 0, 0, 0, 8, 0, 0, 0, 8, 0, 0, 0)
shape = SubResource("BoxShape3D_nt1yn")

[node name="mob" parent="." instance=ExtResource("4_0ec7p")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -18.7904, 0.0080943, -10.6845)

[node name="mob2" parent="." instance=ExtResource("4_0ec7p")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -17.0432, 0, 0.842053)

[node name="player" parent="." instance=ExtResource("4_xodl3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.340031, 0.0080943, -1.36586)
