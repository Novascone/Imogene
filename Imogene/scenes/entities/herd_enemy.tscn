[gd_scene load_steps=27 format=3 uid="uid://cd6cqravba4bt"]

[ext_resource type="Script" path="res://scripts/entities/enemies/Enemy.cs" id="1_f8mkv"]
[ext_resource type="Script" path="res://scripts/state_machines/StateMachine.cs" id="2_sj7gg"]
[ext_resource type="Script" path="res://scripts/state_machines/State1.cs" id="3_v667a"]
[ext_resource type="Script" path="res://scripts/state_machines/State2.cs" id="4_ejttx"]
[ext_resource type="Script" path="res://scripts/state_machines/State3.cs" id="5_5567a"]
[ext_resource type="Script" path="res://scripts/state_machines/State4.cs" id="6_jf3wf"]
[ext_resource type="Script" path="res://scripts/state_machines/State5.cs" id="7_ekc10"]
[ext_resource type="Script" path="res://scripts/systems/DamageSystem.cs" id="8_v680m"]
[ext_resource type="Script" path="res://scripts/systems/ResourceSystem.cs" id="9_excg7"]
[ext_resource type="Script" path="res://scripts/stats/StatController.cs" id="10_x2t1t"]
[ext_resource type="Script" path="res://scripts/damage/Hitbox.cs" id="11_4qkj7"]
[ext_resource type="Script" path="res://scripts/damage/Hurtbox.cs" id="12_i14vk"]
[ext_resource type="Texture2D" uid="uid://dnaellpukgsh6" path="res://images/UI/Textures/posture.png" id="13_03qgy"]
[ext_resource type="Texture2D" uid="uid://dxguhoiuxbx0e" path="res://icon.svg" id="14_sdagd"]

[sub_resource type="SphereShape3D" id="SphereShape3D_02dnb"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_t8mbd"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_cnscv"]

[sub_resource type="ImmediateMesh" id="ImmediateMesh_roj31"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_7hdhi"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_swfnx"]
graph_offset = Vector2(-153.11, 52.18)

[sub_resource type="SphereShape3D" id="SphereShape3D_rrjqt"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_xwtut"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_lwsqc"]
bg_color = Color(0, 0, 0, 0.501961)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_umt77"]
bg_color = Color(1, 0, 0, 1)

[sub_resource type="ViewportTexture" id="ViewportTexture_8tn4t"]
viewport_path = NodePath("Armature/HealthBarViewport")

[sub_resource type="ViewportTexture" id="ViewportTexture_1y573"]
viewport_path = NodePath("Armature/TargetIconViewport")

[node name="Armature" type="CharacterBody3D"]
script = ExtResource("1_f8mkv")

[node name="StateMachine" type="Node3D" parent="."]
script = ExtResource("2_sj7gg")

[node name="State1" type="Node3D" parent="StateMachine"]
script = ExtResource("3_v667a")

[node name="State2" type="Node3D" parent="StateMachine"]
script = ExtResource("4_ejttx")

[node name="State3" type="Node3D" parent="StateMachine"]
script = ExtResource("5_5567a")

[node name="CircleTimer" type="Timer" parent="StateMachine/State3"]
wait_time = 4.0
one_shot = true

[node name="CombineInterestTestState" type="Node3D" parent="StateMachine"]
script = ExtResource("6_jf3wf")

[node name="HerdState" type="Node3D" parent="StateMachine"]
script = ExtResource("7_ekc10")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]

[node name="HerdDetection" type="Area3D" parent="." groups=["Herd"]]
transform = Transform3D(30, 0, 0, 0, 30, 0, 0, 0, 30, 0, 1, 0)
collision_layer = 257
collision_mask = 257

[node name="CollisionShape3D" type="CollisionShape3D" parent="HerdDetection"]
shape = SubResource("SphereShape3D_02dnb")

[node name="Alert" type="Area3D" parent="."]
transform = Transform3D(30, 0, 0, 0, 30, 0, 0, 0, 30, 0, 1, 0)
collision_layer = 256
collision_mask = 256

[node name="CollisionShape3D" type="CollisionShape3D" parent="Alert"]
shape = SubResource("SphereShape3D_02dnb")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("CapsuleMesh_t8mbd")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_cnscv")

[node name="RayPosition" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="CollisionLines" type="MeshInstance3D" parent="."]
mesh = SubResource("ImmediateMesh_roj31")

[node name="RayLines" type="MeshInstance3D" parent="."]
mesh = SubResource("ImmediateMesh_roj31")

[node name="DirectionLines" type="MeshInstance3D" parent="."]
mesh = SubResource("ImmediateMesh_roj31")

[node name="DirectionMovingLine" type="MeshInstance3D" parent="."]
mesh = SubResource("ImmediateMesh_roj31")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="."]
transform = Transform3D(0.5, 0, 0, 0, -2.18557e-08, 0.5, 0, -0.5, -2.18557e-08, 0, 1, -0.25)
mesh = SubResource("CapsuleMesh_7hdhi")

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeBlendTree_swfnx")
anim_player = NodePath("../AnimationPlayer")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]

[node name="DamageSystem" type="Node" parent="."]
script = ExtResource("8_v680m")

[node name="DoTTimer" type="Timer" parent="DamageSystem"]

[node name="SlowTimer" type="Timer" parent="DamageSystem"]

[node name="StunTimer" type="Timer" parent="DamageSystem"]

[node name="ResourceSystem" type="Node" parent="."]
script = ExtResource("9_excg7")

[node name="ResourceRegenTimer" type="Timer" parent="ResourceSystem"]

[node name="PostureRegenTimer" type="Timer" parent="ResourceSystem"]

[node name="StatController" type="Node" parent="."]
script = ExtResource("10_x2t1t")

[node name="Skeleton3D" type="Skeleton3D" parent="."]
transform = Transform3D(-0.5, 0, -7.54979e-08, 0, 0.5, 0, 7.54979e-08, 0, -0.5, 0, 0, 0)
bones/0/name = "root"
bones/0/parent = -1
bones/0/rest = Transform3D(1, 0, 0, 0, 0, 1, 0, -1, 0, 0, 0, 0)
bones/0/enabled = true
bones/0/position = Vector3(0, 0, 0)
bones/0/rotation = Quaternion(-0.707107, 0, 0, 0.707107)
bones/0/scale = Vector3(1, 1, 1)
bones/1/name = "spine_1"
bones/1/parent = 0
bones/1/rest = Transform3D(-0.00231028, 0.0107647, -0.999939, -0.99937, -0.0354264, 0.00192761, -0.0354034, 0.999314, 0.0108398, 0.00813565, 0.0530175, 2.11995)
bones/1/enabled = true
bones/1/position = Vector3(0.00813582, 0.0530906, 2.1182)
bones/1/rotation = Quaternion(-0.505538, 0.488888, 0.512, -0.49323)
bones/1/scale = Vector3(1, 1, 1)
bones/2/name = "spine_2"
bones/2/parent = 1
bones/2/rest = Transform3D(0.999946, 0.00859846, -0.00585172, -0.00945358, 0.985969, -0.166661, 0.00433659, 0.166707, 0.985997, 4.16549e-09, 0.641672, -7.0213e-10)
bones/2/enabled = true
bones/2/position = Vector3(4.16549e-09, 0.641672, -7.0213e-10)
bones/2/rotation = Quaternion(0.0836361, -0.00255607, -0.00452894, 0.996483)
bones/2/scale = Vector3(1, 1, 1)
bones/3/name = "spine_3"
bones/3/parent = 2
bones/3/rest = Transform3D(0.999855, -0.0162795, 0.00501749, 0.0151255, 0.983886, 0.178154, -0.00783691, -0.178053, 0.98399, -1.32131e-08, 0.501318, 2.08092e-09)
bones/3/enabled = true
bones/3/position = Vector3(-1.32131e-08, 0.501318, 2.08092e-09)
bones/3/rotation = Quaternion(-0.0893784, 0.00227121, 0.00794725, 0.995963)
bones/3/scale = Vector3(1, 1, 1)
bones/4/name = "neck"
bones/4/parent = 3
bones/4/rest = Transform3D(0.999218, -0.039538, -0.000937233, 0.039538, 0.998095, 0.0473648, -0.000937261, -0.0473648, 0.998877, 9.38599e-10, 0.532037, 3.1217e-08)
bones/4/enabled = true
bones/4/position = Vector3(9.38599e-10, 0.532037, 3.1217e-08)
bones/4/rotation = Quaternion(-0.0236125, 0.00487369, -0.064458, 0.997629)
bones/4/scale = Vector3(1, 1, 1)
bones/5/name = "head"
bones/5/parent = 4
bones/5/rest = Transform3D(0.912483, 0.396934, -0.0990912, -0.409115, 0.884907, -0.222628, -0.000682071, 0.243684, 0.969854, -2.60297e-09, 0.304869, -3.32136e-09)
bones/5/enabled = true
bones/5/position = Vector3(-2.60297e-09, 0.304869, -3.32136e-09)
bones/5/rotation = Quaternion(0.120125, -0.0253509, -0.207644, 0.97047)
bones/5/scale = Vector3(1, 1, 1)
bones/6/name = "shoulder.L"
bones/6/parent = 3
bones/6/rest = Transform3D(0.983403, 0.137926, 0.11788, -0.123918, 0.0360104, 0.991639, 0.132528, -0.989788, 0.0525043, -0.011003, 0.331738, -0.206816)
bones/6/enabled = true
bones/6/position = Vector3(-0.0101573, 0.302239, -0.207477)
bones/6/rotation = Quaternion(-0.688275, -0.00508811, -0.0909552, 0.719708)
bones/6/scale = Vector3(1, 1, 1)
bones/7/name = "upper_arm.L"
bones/7/parent = 6
bones/7/rest = Transform3D(0.985332, 0.12459, 0.116611, -0.15619, 0.383174, 0.910375, 0.0687409, -0.915235, 0.397013, 3.35276e-08, 0.377467, 1.15018e-07)
bones/7/enabled = true
bones/7/position = Vector3(3.35276e-08, 0.377467, 1.15018e-07)
bones/7/rotation = Quaternion(-0.602666, 0.0710095, -0.146957, 0.781124)
bones/7/scale = Vector3(1, 1, 1)
bones/8/name = "lower_arm.L"
bones/8/parent = 7
bones/8/rest = Transform3D(0.99885, -0.047795, 0.00376334, 0.0479258, 0.993321, -0.104957, 0.00127822, 0.105017, 0.99447, -6.70552e-08, 0.551721, 5.58794e-08)
bones/8/enabled = true
bones/8/position = Vector3(-6.70552e-08, 0.551721, 5.58794e-08)
bones/8/rotation = Quaternion(0.0073145, 0.000623322, 0.00333445, 0.999968)
bones/8/scale = Vector3(1, 1, 1)
bones/9/name = "shoulder.R"
bones/9/parent = 3
bones/9/rest = Transform3D(-0.983029, 0.140635, 0.117797, 0.117801, -0.00832522, 0.993002, 0.140632, 0.990026, -0.00838304, -0.0105899, 0.324977, 0.0950916)
bones/9/enabled = true
bones/9/position = Vector3(-0.00974426, 0.295478, 0.0944298)
bones/9/rotation = Quaternion(-0.0917598, -0.704111, -0.70409, 0.00810758)
bones/9/scale = Vector3(1, 1, 1)
bones/10/name = "upper_arm.R"
bones/10/parent = 9
bones/10/rest = Transform3D(0.985332, -0.124589, -0.116611, 0.15619, 0.383174, 0.910375, -0.0687408, -0.915235, 0.397013, -3.35276e-08, 0.377467, -1.25263e-07)
bones/10/enabled = true
bones/10/position = Vector3(-3.35276e-08, 0.377467, -1.25263e-07)
bones/10/rotation = Quaternion(-0.648777, -0.084955, 0.194256, 0.730846)
bones/10/scale = Vector3(1, 1, 1)
bones/11/name = "lower_arm.R"
bones/11/parent = 10
bones/11/rest = Transform3D(0.999704, 0.0243127, -0.00105418, -0.0243334, 0.999251, -0.0300979, 0.000321628, 0.0301147, 0.999546, 7.45058e-08, 0.551721, 1.09896e-07)
bones/11/enabled = true
bones/11/position = Vector3(7.45058e-08, 0.551721, 1.09896e-07)
bones/11/rotation = Quaternion(0.00288122, -0.000344077, -0.00232774, 0.999993)
bones/11/scale = Vector3(1, 1, 1)
bones/12/name = "thigh.L"
bones/12/parent = 1
bones/12/rest = Transform3D(0.00699946, 0.227559, 0.97374, -0.134518, -0.964698, 0.226413, 0.99089, -0.13257, 0.0238583, -0.064548, -0.0219069, -0.344285)
bones/12/enabled = true
bones/12/position = Vector3(-0.064548, -0.0219069, -0.344285)
bones/12/rotation = Quaternion(0.697579, 0.0347457, 0.703739, -0.130109)
bones/12/scale = Vector3(1, 1, 1)
bones/13/name = "shin.L"
bones/13/parent = 12
bones/13/rest = Transform3D(0.999692, 0.0174176, 0.0176525, -0.0216556, 0.959996, 0.279175, -0.0120838, -0.279472, 0.960078, -7.55426e-09, 0.989068, 2.14204e-08)
bones/13/enabled = true
bones/13/position = Vector3(-7.55426e-09, 0.989068, 2.14204e-08)
bones/13/rotation = Quaternion(-0.143762, 0.00753645, -0.0098474, 0.989535)
bones/13/scale = Vector3(1, 1, 1)
bones/14/name = "thigh.R"
bones/14/parent = 1
bones/14/rest = Transform3D(-0.0144351, 0.226448, 0.973917, 0.164123, -0.960271, 0.225708, 0.986336, 0.1631, -0.0233039, -0.0629201, -0.0294921, 0.360298)
bones/14/enabled = true
bones/14/position = Vector3(-0.0629201, -0.0294921, 0.360298)
bones/14/rotation = Quaternion(0.737983, 0.134013, 0.661107, -0.0189584)
bones/14/scale = Vector3(1, 1, 1)
bones/15/name = "shin.R"
bones/15/parent = 14
bones/15/rest = Transform3D(0.996765, 0.073573, -0.0323469, -0.0617607, 0.958738, 0.277502, 0.0514289, -0.274607, 0.96018, 3.56813e-08, 0.99692, 3.1665e-08)
bones/15/enabled = true
bones/15/position = Vector3(3.56813e-08, 0.99692, 3.1665e-08)
bones/15/rotation = Quaternion(-0.142301, -0.0210715, -0.0342555, 0.989006)
bones/15/scale = Vector3(1, 1, 1)
bones/16/name = "arm_IK.L"
bones/16/parent = 0
bones/16/rest = Transform3D(0.183442, 0, 0.983031, 0, 1, 0, -0.983031, 0, 0.183442, 1.07542, -0.0901287, 2.48589)
bones/16/enabled = true
bones/16/position = Vector3(0.836163, -0.0874551, 2.33846)
bones/16/rotation = Quaternion(0.0124448, 0.808829, -0.0628635, 0.584542)
bones/16/scale = Vector3(1, 1, 1)
bones/17/name = "hand.L"
bones/17/parent = 16
bones/17/rest = Transform3D(0.0432646, 0.960322, -0.275518, -0.953294, -0.0428331, -0.298991, -0.298929, 0.275586, 0.913616, 0.00113948, 0.00574481, 0.00161859)
bones/17/enabled = true
bones/17/position = Vector3(0.00113948, 0.00574481, 0.00161859)
bones/17/rotation = Quaternion(0.207655, 0.00846072, -0.69159, 0.691746)
bones/17/scale = Vector3(1, 1, 1)
bones/18/name = "Bone.005"
bones/18/parent = 17
bones/18/rest = Transform3D(0.991743, 0.128021, -0.00748616, -0.127262, 0.975315, -0.180458, -0.015801, 0.179921, 0.983554, 0.0555994, 0.0675511, 0.000536278)
bones/18/enabled = true
bones/18/position = Vector3(0.0555994, 0.0675511, 0.000536278)
bones/18/rotation = Quaternion(0.090656, 0.00209166, -0.0642184, 0.993807)
bones/18/scale = Vector3(1, 1, 1)
bones/19/name = "Bone.006"
bones/19/parent = 18
bones/19/rest = Transform3D(0.996584, -0.0734013, 0.0378417, 0.0625566, 0.970145, 0.234319, -0.0539112, -0.231151, 0.971423, -2.23517e-08, 0.0803382, 6.70552e-08)
bones/19/enabled = true
bones/19/position = Vector3(-2.23517e-08, 0.0803382, 6.70552e-08)
bones/19/rotation = Quaternion(-0.117278, 0.0231176, 0.0342553, 0.992239)
bones/19/scale = Vector3(1, 1, 1)
bones/20/name = "Bone.007"
bones/20/parent = 19
bones/20/rest = Transform3D(0.990735, 0.124291, -0.0547338, -0.124455, 0.992225, 0.000425235, 0.0543611, 0.00639058, 0.998501, 0, 0.0627273, -5.58794e-08)
bones/20/enabled = true
bones/20/position = Vector3(0, 0.0627273, -5.58794e-08)
bones/20/rotation = Quaternion(0.00149481, -0.0273372, -0.0623311, 0.99768)
bones/20/scale = Vector3(1, 1, 1)
bones/21/name = "Bone.008"
bones/21/parent = 17
bones/21/rest = Transform3D(0.984658, -0.174471, 0.00284096, 0.174242, 0.982231, -0.069726, 0.00937468, 0.0691512, 0.997562, 0.00830166, 0.177717, 0.0112986)
bones/21/enabled = true
bones/21/position = Vector3(0.00830166, 0.177717, 0.0112986)
bones/21/rotation = Quaternion(0.0348746, -0.00164074, 0.0875683, 0.995547)
bones/21/scale = Vector3(1, 1, 1)
bones/22/name = "Bone.009"
bones/22/parent = 21
bones/22/rest = Transform3D(0.993374, -0.111748, 0.0268556, 0.107371, 0.985691, 0.129938, -0.0409917, -0.126194, 0.991158, -3.72529e-08, 0.0973611, -2.14204e-07)
bones/22/enabled = true
bones/22/position = Vector3(-3.72529e-08, 0.0973611, -2.14204e-07)
bones/22/rotation = Quaternion(-0.0642726, 0.0170253, 0.0549849, 0.996271)
bones/22/scale = Vector3(1, 1, 1)
bones/23/name = "Bone.010"
bones/23/parent = 22
bones/23/rest = Transform3D(0.991662, 0.0277803, 0.125837, -0.0388912, 0.995473, 0.0867183, -0.122859, -0.0908892, 0.988253, 1.86265e-07, 0.080262, 9.31323e-09)
bones/23/enabled = true
bones/23/position = Vector3(1.86265e-07, 0.080262, 9.31323e-09)
bones/23/rotation = Quaternion(-0.0445391, 0.0623661, -0.0167194, 0.996919)
bones/23/scale = Vector3(1, 1, 1)
bones/24/name = "Bone.011"
bones/24/parent = 17
bones/24/rest = Transform3D(0.913542, -0.404128, 0.0460583, 0.406734, 0.908453, -0.0963337, -0.00291067, 0.106738, 0.994283, -0.0319238, 0.163071, -0.00125118)
bones/24/enabled = true
bones/24/position = Vector3(-0.0319238, 0.163071, -0.00125118)
bones/24/rotation = Quaternion(0.0519757, 0.0125335, 0.207537, 0.976765)
bones/24/scale = Vector3(1, 1, 1)
bones/25/name = "Bone.012"
bones/25/parent = 24
bones/25/rest = Transform3D(0.985467, -0.00179142, 0.169856, -0.00413742, 0.999395, 0.0345448, -0.169815, -0.0347455, 0.984863, -2.23517e-08, 0.0881906, -1.56462e-07)
bones/25/enabled = true
bones/25/position = Vector3(-2.23517e-08, 0.0881906, -1.56462e-07)
bones/25/rotation = Quaternion(-0.0173885, 0.0852408, -0.000588732, 0.996208)
bones/25/scale = Vector3(1, 1, 1)
bones/26/name = "Bone.013"
bones/26/parent = 25
bones/26/rest = Transform3D(0.997568, -0.0665144, -0.020821, 0.0691379, 0.982142, 0.174976, 0.0088107, -0.17599, 0.984352, 2.05822e-07, 0.0713293, 7.35745e-08)
bones/26/enabled = true
bones/26/position = Vector3(2.05822e-07, 0.0713293, 7.35745e-08)
bones/26/rotation = Quaternion(-0.0881385, -0.00744142, 0.0340664, 0.995498)
bones/26/scale = Vector3(1, 1, 1)
bones/27/name = "Bone.014"
bones/27/parent = 17
bones/27/rest = Transform3D(0.874357, -0.485253, -0.00546189, 0.485106, 0.873675, 0.0369305, -0.0131487, -0.03494, 0.999303, -0.064368, 0.146742, -0.0147827)
bones/27/enabled = true
bones/27/position = Vector3(-0.064368, 0.146742, -0.0147827)
bones/27/rotation = Quaternion(-0.0185635, 0.00198544, 0.250635, 0.967902)
bones/27/scale = Vector3(1, 1, 1)
bones/28/name = "Bone.015"
bones/28/parent = 27
bones/28/rest = Transform3D(0.987466, -0.0374122, 0.153334, 0.0361285, 0.999285, 0.0111506, -0.153641, -0.0054711, 0.988111, -1.52737e-07, 0.0850049, -5.40167e-08)
bones/28/enabled = true
bones/28/position = Vector3(-1.52737e-07, 0.0850049, -5.40167e-08)
bones/28/rotation = Quaternion(-0.00416854, 0.0769861, 0.0184432, 0.996853)
bones/28/scale = Vector3(1, 1, 1)
bones/29/name = "Bone.016"
bones/29/parent = 28
bones/29/rest = Transform3D(0.993973, -0.0241963, 0.106924, 0.0148405, 0.996059, 0.0874447, -0.108618, -0.0853309, 0.990414, 6.70552e-08, 0.07605, -5.58794e-09)
bones/29/enabled = true
bones/29/position = Vector3(6.70552e-08, 0.07605, -5.58794e-09)
bones/29/rotation = Quaternion(-0.0432999, 0.0540177, 0.00978315, 0.997553)
bones/29/scale = Vector3(1, 1, 1)
bones/30/name = "Bone.017"
bones/30/parent = 17
bones/30/rest = Transform3D(0.794309, -0.607495, -0.00473966, 0.607157, 0.793551, 0.0404742, -0.0208267, -0.0350268, 0.999169, -0.0764459, 0.115696, -0.0423631)
bones/30/enabled = true
bones/30/position = Vector3(-0.0764459, 0.115696, -0.0423631)
bones/30/rotation = Quaternion(-0.0199322, 0.00424698, 0.320667, 0.946973)
bones/30/scale = Vector3(1, 1, 1)
bones/31/name = "Bone.018"
bones/31/parent = 30
bones/31/rest = Transform3D(0.96773, 0.0221724, 0.251011, -0.0722236, 0.978735, 0.191992, -0.241416, -0.203925, 0.948753, 3.91155e-08, 0.054519, 3.1665e-08)
bones/31/enabled = true
bones/31/position = Vector3(3.91155e-08, 0.054519, 3.1665e-08)
bones/31/rotation = Quaternion(-0.100302, 0.124752, -0.0239143, 0.986815)
bones/31/scale = Vector3(1, 1, 1)
bones/32/name = "Bone.019"
bones/32/parent = 31
bones/32/rest = Transform3D(0.989615, 0.131353, 0.0583887, -0.131887, 0.99125, 0.00536459, -0.0571731, -0.0130096, 0.99828, 2.71946e-07, 0.0332369, -8.19564e-08)
bones/32/enabled = true
bones/32/position = Vector3(2.71946e-07, 0.0332369, -8.19564e-08)
bones/32/rotation = Quaternion(-0.00460557, 0.0289661, -0.0659823, 0.99739)
bones/32/scale = Vector3(1, 1, 1)
bones/33/name = "leg_IK.L"
bones/33/parent = 0
bones/33/rest = Transform3D(-0.995867, 0, 0.0908236, 0, 1, 0, -0.0908236, 0, -0.995867, 0.577489, 0.0136361, 0.155078)
bones/33/enabled = true
bones/33/position = Vector3(0.577489, 0.0111722, 0.155078)
bones/33/rotation = Quaternion(0, 0.998966, 0, 0.0454588)
bones/33/scale = Vector3(1, 1, 1)
bones/34/name = "foot.L"
bones/34/parent = 33
bones/34/rest = Transform3D(0.991547, 0.129539, -0.0073946, 0.108882, -0.861714, -0.495573, -0.0705683, 0.490579, -0.868535, -1.67638e-08, 1.86265e-09, 1.49012e-08)
bones/34/enabled = true
bones/34/position = Vector3(-1.67638e-08, 1.86265e-09, 1.49012e-08)
bones/34/rotation = Quaternion(0.964598, 0.0617929, -0.0202061, 0.255586)
bones/34/scale = Vector3(1, 1, 1)
bones/35/name = "toe.L"
bones/35/parent = 34
bones/35/rest = Transform3D(0.998127, -0.041897, 0.0445741, 0.0567179, 0.906807, -0.417714, -0.0229191, 0.41946, 0.907484, 2.52621e-08, 0.209577, 1.86265e-08)
bones/35/enabled = true
bones/35/position = Vector3(2.52621e-08, 0.209577, 1.86265e-08)
bones/35/rotation = Quaternion(0.214381, 0.0172834, 0.0252529, 0.976271)
bones/35/scale = Vector3(1, 1, 1)
bones/36/name = "leg_IK.R"
bones/36/parent = 0
bones/36/rest = Transform3D(-0.995867, 0, -0.0908236, 0, 1, 0, 0.0908236, 0, -0.995867, -0.77472, 0.0136361, 0.155078)
bones/36/enabled = true
bones/36/position = Vector3(-0.77472, 0.0176242, 0.155078)
bones/36/rotation = Quaternion(0.00460342, 0.998956, 0.000165244, -0.0454583)
bones/36/scale = Vector3(1, 1, 1)
bones/37/name = "foot.R"
bones/37/parent = 36
bones/37/rest = Transform3D(0.991547, -0.129539, 0.0073946, -0.108882, -0.861714, -0.495573, 0.0705683, 0.490579, -0.868535, 1.67638e-08, 1.86265e-09, 1.49012e-08)
bones/37/enabled = true
bones/37/position = Vector3(1.67638e-08, 1.86265e-09, 1.49012e-08)
bones/37/rotation = Quaternion(0.964598, -0.0617929, 0.0202061, 0.255586)
bones/37/scale = Vector3(1, 1, 1)
bones/38/name = "toe.R"
bones/38/parent = 37
bones/38/rest = Transform3D(0.998783, 0.016048, -0.046636, -0.0316919, 0.933354, -0.357555, 0.0377899, 0.358597, 0.932727, 3.43425e-08, 0.209577, 1.49012e-08)
bones/38/enabled = true
bones/38/position = Vector3(3.43425e-08, 0.209577, 1.49012e-08)
bones/38/rotation = Quaternion(0.182141, -0.0214723, -0.0121418, 0.982963)
bones/38/scale = Vector3(1, 1, 1)
bones/39/name = "IK_pole_leg.L"
bones/39/parent = 0
bones/39/rest = Transform3D(-0.992323, 0, -0.123669, 0, -1, 0, -0.123669, 0, 0.992324, 0.472634, -1.03841, 1.13372)
bones/39/enabled = true
bones/39/position = Vector3(0.47396, -1.03839, 1.13386)
bones/39/rotation = Quaternion(-0.0619537, 0, 0.998079, 0)
bones/39/scale = Vector3(1, 1, 1)
bones/40/name = "arm_IK.R"
bones/40/parent = 0
bones/40/rest = Transform3D(0.183442, 0, -0.983031, 0, 1, 0, 0.983031, 0, 0.183442, -1.02542, -0.0901287, 2.46589)
bones/40/enabled = true
bones/40/position = Vector3(-0.645001, -0.0898881, 2.25999)
bones/40/rotation = Quaternion(-0.00676409, -0.750091, 0.0470074, 0.659627)
bones/40/scale = Vector3(1, 1, 1)
bones/41/name = "hand.R"
bones/41/parent = 40
bones/41/rest = Transform3D(0.0432645, -0.960322, 0.275518, 0.953294, -0.0428332, -0.298991, 0.298929, 0.275586, 0.913616, -0.00113961, 0.00574481, 0.00161853)
bones/41/enabled = true
bones/41/position = Vector3(-0.00113961, 0.00574481, 0.00161853)
bones/41/rotation = Quaternion(0.207655, -0.00846078, 0.69159, 0.691746)
bones/41/scale = Vector3(1, 1, 1)
bones/42/name = "IK_pole_arm.L"
bones/42/parent = 0
bones/42/rest = Transform3D(0.0968224, 0, 0.995302, 0, 1, 0, -0.995302, 0, 0.0968224, 0.740053, 0.812862, 3.07934)
bones/42/enabled = true
bones/42/position = Vector3(0.774256, 0.801413, 3.08479)
bones/42/rotation = Quaternion(0, 0.672004, 0, 0.740548)
bones/42/scale = Vector3(1, 1, 1)
bones/43/name = "IK_pole_arm.R"
bones/43/parent = 0
bones/43/rest = Transform3D(0.0968224, 0, -0.995302, 0, 1, 0, 0.995302, 0, 0.0968224, -0.740053, 0.812862, 3.07934)
bones/43/enabled = true
bones/43/position = Vector3(-0.740053, 0.812862, 3.07934)
bones/43/rotation = Quaternion(0, -0.672004, 0, 0.740548)
bones/43/scale = Vector3(1, 1, 1)
bones/44/name = "IK_pole_leg.R"
bones/44/parent = 0
bones/44/rest = Transform3D(-0.992323, 0, 0.123669, 0, -1, 0, 0.123669, 0, 0.992324, -0.472634, -1.03841, 1.13372)
bones/44/enabled = true
bones/44/position = Vector3(-0.475085, -1.03833, 1.13398)
bones/44/rotation = Quaternion(0.0619537, 0, 0.998079, 0)
bones/44/scale = Vector3(1, 1, 1)

[node name="MainHand" type="BoneAttachment3D" parent="Skeleton3D"]
transform = Transform3D(-0.385133, -0.0476125, 0.921632, 0.134379, -0.990917, 0.0049628, 0.913025, 0.12576, 0.388033, 0.837869, 2.33638, 0.0820064)
bone_name = "hand.L"
bone_idx = 17

[node name="MainHandSlot" type="Node3D" parent="Skeleton3D/MainHand"]

[node name="Weapon" type="Node3D" parent="Skeleton3D/MainHand/MainHandSlot"]

[node name="WeaponMesh" type="MeshInstance3D" parent="Skeleton3D/MainHand/MainHandSlot/Weapon"]
transform = Transform3D(1, -1.49012e-08, -2.98023e-08, 7.45058e-09, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="Hitbox" type="Area3D" parent="Skeleton3D/MainHand/MainHandSlot/Weapon"]
transform = Transform3D(1.29996, 0.0101417, -0.000491351, -0.0101441, 1.29994, -0.00663859, 0.000439584, 0.00664234, 1.29998, -0.00185042, 0.0187879, -0.00083828)
collision_layer = 8
collision_mask = 0
script = ExtResource("11_4qkj7")

[node name="HitboxCollision" type="CollisionShape3D" parent="Skeleton3D/MainHand/MainHandSlot/Weapon/Hitbox"]
shape = SubResource("SphereShape3D_rrjqt")

[node name="Hurtbox" type="Area3D" parent="." groups=["enemy"]]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1, 0)
collision_layer = 16
collision_mask = 16
script = ExtResource("12_i14vk")

[node name="HurtboxCollision" type="CollisionShape3D" parent="Hurtbox"]
transform = Transform3D(1.8, 0, 0, 0, 1.8, 0, 0, 0, 1.8, 0, 0, 0)
shape = SubResource("CapsuleShape3D_xwtut")

[node name="CastTimer" type="Timer" parent="."]

[node name="HealthBarViewport" type="SubViewport" parent="."]
transparent_bg = true
handle_input_locally = false
size = Vector2i(256, 256)
render_target_update_mode = 4

[node name="VBoxContainer" type="VBoxContainer" parent="HealthBarViewport"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -128.0
offset_top = -100.0
offset_right = 128.0
offset_bottom = 100.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="ProgressBar" type="ProgressBar" parent="HealthBarViewport/VBoxContainer"]
custom_minimum_size = Vector2(200, 25)
layout_mode = 2
size_flags_horizontal = 4
theme_override_styles/background = SubResource("StyleBoxFlat_lwsqc")
theme_override_styles/fill = SubResource("StyleBoxFlat_umt77")
value = 50.0
show_percentage = false

[node name="TextureProgressBar" type="TextureProgressBar" parent="HealthBarViewport/VBoxContainer"]
custom_minimum_size = Vector2(200, 10)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 0
value = 100.0
fill_mode = 6
nine_patch_stretch = true
texture_progress = ExtResource("13_03qgy")

[node name="StatusBar" type="Sprite3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 2.38152, 0)
visible = false
billboard = 1
texture = SubResource("ViewportTexture_8tn4t")

[node name="TargetIconViewport" type="SubViewport" parent="."]
handle_input_locally = false
size = Vector2i(30, 30)
render_target_update_mode = 4

[node name="TextureRect" type="TextureRect" parent="TargetIconViewport"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -15.0
offset_top = -15.0
offset_right = 15.0
offset_bottom = 15.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("14_sdagd")
expand_mode = 1

[node name="TargetIcon" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.02734, 0)
visible = false
billboard = 1
no_depth_test = true
texture = SubResource("ViewportTexture_1y573")

[connection signal="timeout" from="StateMachine/State3/CircleTimer" to="StateMachine/State3" method="_on_circle_timer_timeout"]
